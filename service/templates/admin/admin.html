{% extends "base.html" %}

{% block content %}


<h1>Upload a Score Sheet</h1>

<p>Use the form below to upload a CSV with scores to be added/updated/removed.<p>

<div style="margin-top: 50px; margin-bottom: 50px">
<form action="{{url_for('admin.index')}}" method="post" enctype="multipart/form-data" id="upload-form">
    <div class="row">
        <div class="col-md-offset-2 col-md-8 form-inline">
            <div class="form-group">
                <label for="csv">Choose a CSV to upload</label>
                <input type="file" name="csv" id="csv" class="form-control">
            </div>
            <button type="submit" class="btn btn-success" id="upload">Upload <i class="glyphicon glyphicon-upload"></i></button>
        </div>
    </div>

</form>
</div>

<h2>Template CSV</h2>

<p>CSVs must conform to the standard structure, or they will not import.
    Download the <a href="{{ url_for('static', filename='template.csv') }}">template here</a>.</p>

<p>The template shows the headers that must be used in the first row, some example content in the second row, and formatting notes in the third.</p>

<p>To use the template sheet, remove all rows except the header row, and then fill in the content as required.</p>

<h2>Creating Scores</h2>

<p>Any ISSN/E-ISSN which does not match an existing score in the system will cause a new one to be created from the upload.</p>

<h2>Updating Scores</h2>

<p>Any ISSN/E-ISSN which match an existing score will cause the current score to be updated with the new one from the upload.</p>

<h2>Deleting Scores</h2>

<p>To delete a score, provide the ISSN and/or E-ISSN in the CSV, and leave all the other information blank.
    The scores with matching ISSNs will be removed on successful upload.</p>
{% endblock %}


{% block extra_js_bottom %}
<script type="text/javascript" src="{{ url_for('static', filename='js/upload.js') }}"></script>
{% endblock%}